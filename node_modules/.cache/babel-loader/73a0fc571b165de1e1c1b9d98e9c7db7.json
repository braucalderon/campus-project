{"ast":null,"code":"var _jsxFileName = \"/Volumes/Seagate/Desktop/ttp2021/campus-project/src/Components/SingleCampus/GetCampus.js\";\nimport React, { Component } from 'react';\nimport fire from '../Firebase/firebase.js';\nimport EditCampusForm from '../SingleCampus/EditCampusForm';\nimport No_Img_Avail from '../../Images/No_Img_Avail.jpeg'; // [   ] see details about a single campus, including enrolled students (if any)\n// [   ] see an informative message if no students are enrolled at that campus\n// [   ] navigate to any student’s single student view \n// [   ] delete the campus (and elegantly handle associated students)\n// [   ] edit campus information (including adding/removing students)\n// [   ] with a validated form displaying real-time error messages\n// [   ] which redirects back to the single campus view\n\nclass GetCampus extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addDefaultImage = event => {\n      if (!this.state.defaultAdded) {\n        this.setState({\n          defaultAdded: true,\n          imageUrl: No_Img_Avail\n        });\n      }\n    };\n\n    this.state = {\n      id: this.props.id,\n      campus: undefined,\n      defaultAdded: false,\n      imageUrl: No_Img_Avail\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.state.id);\n    const campusRef = fire.database().ref('Campus');\n    campusRef.on('value', snapshot => {\n      if (snapshot.hasChildren()) {\n        campusRef.orderByKey().once('value', snapshot => {\n          snapshot.forEach(child => {\n            console.log(\"State id: \" + this.state.id + \", child id: \" + child.val().id);\n\n            if (this.state.id == child.val().id) {\n              console.log(child.val());\n              this.setState({\n                campus: child.val(),\n                imageUrl: child.val().imageUrl\n              });\n            }\n          });\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.campus) {\n      console.log(\"campus is defined\");\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"campus-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, this.state.campus.name), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }\n      }, \"ID: \", this.state.campus.id), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }\n      }, this.state.campus.address), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }\n      }, this.state.campus.description)), /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.imageUrl,\n        alt: \"Campus\",\n        onError: this.addDefaultImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(EditCampusForm, {\n        id: this.state.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }\n      }, \"This campus cannot be found.\"));\n    }\n  }\n\n}\n\nexport default GetCampus;","map":{"version":3,"sources":["/Volumes/Seagate/Desktop/ttp2021/campus-project/src/Components/SingleCampus/GetCampus.js"],"names":["React","Component","fire","EditCampusForm","No_Img_Avail","GetCampus","constructor","props","addDefaultImage","event","state","defaultAdded","setState","imageUrl","id","campus","undefined","componentDidMount","console","log","campusRef","database","ref","on","snapshot","hasChildren","orderByKey","once","forEach","child","val","render","name","address","description"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,YAAP,MAAyB,gCAAzB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAE9BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA6BnBC,eA7BmB,GA6BAC,KAAD,IAAW;AACzB,UAAI,CAAC,KAAKC,KAAL,CAAWC,YAAhB,EAA8B;AAC1B,aAAKC,QAAL,CAAc;AAACD,UAAAA,YAAY,EAAC,IAAd;AAAoBE,UAAAA,QAAQ,EAACT;AAA7B,SAAd;AACH;AACJ,KAjCkB;;AAGf,SAAKM,KAAL,GAAa;AACTI,MAAAA,EAAE,EAAC,KAAKP,KAAL,CAAWO,EADL;AAETC,MAAAA,MAAM,EAACC,SAFE;AAGTL,MAAAA,YAAY,EAAC,KAHJ;AAITE,MAAAA,QAAQ,EAACT;AAJA,KAAb;AAMH;;AAEDa,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWI,EAAvB;AACA,UAAMM,SAAS,GAAGlB,IAAI,CAACmB,QAAL,GAAgBC,GAAhB,CAAoB,QAApB,CAAlB;AACAF,IAAAA,SAAS,CAACG,EAAV,CAAa,OAAb,EAAsBC,QAAQ,IAAI;AAC9B,UAAIA,QAAQ,CAACC,WAAT,EAAJ,EAA4B;AACxBL,QAAAA,SAAS,CAACM,UAAV,GAAuBC,IAAvB,CAA4B,OAA5B,EAAqCH,QAAQ,IAAI;AAC7CA,UAAAA,QAAQ,CAACI,OAAT,CAAkBC,KAAD,IAAW;AACxBX,YAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,KAAKT,KAAL,CAAWI,EAA1B,GAA+B,cAA/B,GAAgDe,KAAK,CAACC,GAAN,GAAYhB,EAAxE;;AACA,gBAAI,KAAKJ,KAAL,CAAWI,EAAX,IAAiBe,KAAK,CAACC,GAAN,GAAYhB,EAAjC,EAAqC;AACjCI,cAAAA,OAAO,CAACC,GAAR,CAAYU,KAAK,CAACC,GAAN,EAAZ;AACA,mBAAKlB,QAAL,CAAc;AAACG,gBAAAA,MAAM,EAACc,KAAK,CAACC,GAAN,EAAR;AAAqBjB,gBAAAA,QAAQ,EAACgB,KAAK,CAACC,GAAN,GAAYjB;AAA1C,eAAd;AACH;AACH,WANF;AAOH,SARD;AASH;AACJ,KAZD;AAaH;;AAQDkB,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKrB,KAAL,CAAWK,MAAf,EAAuB;AACnBG,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,0BACI,uDACA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKT,KAAL,CAAWK,MAAX,CAAkBiB,IAAvB,CADJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAS,KAAKtB,KAAL,CAAWK,MAAX,CAAkBD,EAA3B,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKJ,KAAL,CAAWK,MAAX,CAAkBkB,OAAvB,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKvB,KAAL,CAAWK,MAAX,CAAkBmB,WAAvB,CAHJ,CADJ,eAOI;AAAK,QAAA,GAAG,EAAE,KAAKxB,KAAL,CAAWG,QAArB;AAA+B,QAAA,GAAG,EAAC,QAAnC;AAA4C,QAAA,OAAO,EAAE,KAAKL,eAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ,CAHJ,CADA,eAeA,oBAAC,cAAD;AAAgB,QAAA,EAAE,EAAE,KAAKE,KAAL,CAAWI,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfA,CADJ;AAmBH,KArBD,MAqBO;AACH,0BACI;AAAK,QAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,CADJ;AAKH;AAEJ;;AAnE6B;;AAsElC,eAAeT,SAAf","sourcesContent":["import React, { Component } from 'react'\nimport fire from '../Firebase/firebase.js'\nimport EditCampusForm from '../SingleCampus/EditCampusForm';\nimport No_Img_Avail from '../../Images/No_Img_Avail.jpeg';\n\n// [   ] see details about a single campus, including enrolled students (if any)\n// [   ] see an informative message if no students are enrolled at that campus\n// [   ] navigate to any student’s single student view \n// [   ] delete the campus (and elegantly handle associated students)\n// [   ] edit campus information (including adding/removing students)\n// [   ] with a validated form displaying real-time error messages\n// [   ] which redirects back to the single campus view\n\nclass GetCampus extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            id:this.props.id,\n            campus:undefined,\n            defaultAdded:false,\n            imageUrl:No_Img_Avail\n        }\n    }\n\n    componentDidMount() {\n        console.log(this.state.id);\n        const campusRef = fire.database().ref('Campus');\n        campusRef.on('value', snapshot => {\n            if (snapshot.hasChildren()) {\n                campusRef.orderByKey().once('value', snapshot => {\n                    snapshot.forEach((child) => {\n                        console.log(\"State id: \" + this.state.id + \", child id: \" + child.val().id);\n                        if (this.state.id == child.val().id) {\n                            console.log(child.val());\n                            this.setState({campus:child.val(), imageUrl:child.val().imageUrl});\n                        }\n                     });\n                });\n            }\n        });\n    }\n\n    addDefaultImage = (event) => {\n        if (!this.state.defaultAdded) {\n            this.setState({defaultAdded:true, imageUrl:No_Img_Avail});\n        }\n    }\n\n    render() {\n        if (this.state.campus) {\n            console.log(\"campus is defined\");\n            return (\n                <>\n                <div className=\"campus-card\">\n                    <h3>{this.state.campus.name}</h3>\n\n                    <div>\n                        <ul>\n                            <li>ID: {this.state.campus.id}</li>\n                            <li>{this.state.campus.address}</li>\n                            <li>{this.state.campus.description}</li>\n                        </ul>\n\n                        <img src={this.state.imageUrl} alt=\"Campus\" onError={this.addDefaultImage}></img>\n                    </div>\n                </div>\n\n                <EditCampusForm id={this.state.id} />\n                </>\n            )\n        } else {\n            return (\n                <div id=\"error\">\n                    <h4>This campus cannot be found.</h4>\n                </div>\n            )\n        }\n        \n    }\n}\n\nexport default GetCampus;\n"]},"metadata":{},"sourceType":"module"}